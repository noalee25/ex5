niliklejman, noalee25
212297303, 212392823

MAIN REGULAR EXPRESSIONS:
1. Variable Declaration Line Pattern (VAR_DECL_LINE)
   Pattern: ^\\s*(final\\s+)?(int|double|boolean|char|String)\\s+(.+)\\s*;\\s*$
   Structure Breakdown:
   - ^\\s*  : start of line, with optional leading whitespace
   - (final\\s+)?  : optional "final" modifier followed by whitespace (captured in group 1)
   - (int|double|boolean|char|String) : Type keyword - one of the five allowed types (captured in group 2)
   - \\s+ : required whitespace separator after type
   - (.+) : declaration list - one or more variables with optional initializers (captured in group 3)
   - \\s*;\\s*$ : optional whitespace, required semicolon, optional trailing whitespace, end of line

   Purpose: Identifies variable declaration lines at both global scope and within methods.The
   declaration list is further parsed by ONE_VAR_DECL_TOKEN to handle comma-separated variables.

2. Method Declaration Pattern (METHOD_DECL)
   Pattern: ^\\s*void\\s+([A-Za-z][A-Za-z0-9_]*)\\s*\\((.*)\\)\\s*\\{\\s*$
   Structure Breakdown:
   - ^\\s* : Start of line, optional leading whitespace
   - void\\s+ : literal "void" keyword followed by required whitespace
   - ([A-Za-z][A-Za-z0-9_]*)  : Method name (captured in group 1)  must start with a letter [A-Za-z]
                                and followed by zero or more letters, digits, or underscores [A-Za-z0-9_]*
   - \\s*\\( : optional whitespace, opening parenthesis
   - (.*) : parameter list - any characters (captured in group 2), can be empty
   - \\)\\s*\\{\\s*$ : closing parenthesis, optional whitespace,
                       opening brace, optional whitespace, end of line

   Purpose: Identifies method declarations and extracts method name and parameter list. The method name must 
   start with a letter , and the parameter list is later parsed by 
   PARAM_TOKEN to extract individual parameters with their types and modifiers. This pattern enforces that 
   all methods must be void and have proper structure.

DESIGN CHOICES AND ARCHITECTURE:
two pass validation strategy:
we implemented a two pass approach to handle forward references
and method calls before method bodies are validated:

pass 1 - collection phase:
- scans all lines to build symbol tables
- collects all global variables into globalScope
- collects all method signatures into methods Map
- validates structural rules: final variables must be initialized, no duplicate declarations, valid names
- global assignments are allowed and mark variables as initialized

pass 2 - validation phase:
- validates each method body independently
- verifies type compatibility for assignments and method calls
- checks variable initialization states (with scope-aware tracking)
- validates conditions in if/while statements
- ensures all methods end with return statements

this separation allows methods to call other methods defined later in the file and enables global variable 
validation before method body processing.

scope management - parent child chain:
we implemented scopes as a tree structure with parent pointers:
- each Scope maintains a parent reference and its own variable map
- variable resolution walks up the parent chain until found or null
- when entering nested blocks (if/while), a new child scope is created
- when exiting blocks, we pop back to the parent scope
- this design naturally handles shadowing and nested scope visibility


MODULE RESPONSIBILITIES:
main/ package:
-Sjavac.java: validates command-line arguments, checks file existence and readability, 
maneges Parser ,and validator catches all exceptions
InvalidUsageException.java: wrong number of arguments
InvalidFileException.java: file does not exist, wrong extension, cannot read

parser/ package:
-Parser.java: reads source file line by line and classifies each line,
 uses RegexBank patterns to identify line types,
 returns List<ParsedLine> with line type and raw content, detects syntax errors
-ParsedLine.java: data container for one parsed line
-LineKind.java: enum defining all possible line types
-RegexBank.java: central repository of all regex patterns used for matching s-Java syntax
-ParserException.java: syntax errors

model/ package:
-Variable.java: represents a variable
-Method.java: represents a method signature
-Scope.java: manages variable visibility using parent child chain

validator/ package:
Validator.java: two pass semantic validation
collects global variables and method signatures, 
validates method bodies, validates assignments, 
validates method calls, validates if/while conditions
ValidationException.java: semantic errors